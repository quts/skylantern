//= require jquery
//= require jquery_ujs

$(function(){
	//like button ajax
	$('button.like').click(function (){
		var msg_id = $(this).attr('id');
		var ajax_url = "/like/"+msg_id;
		console.log(ajax_url);
        
		$.ajax({
  			url: ajax_url,
  			type: "GET",
  			dataType: "json",
  			success: function(data) {
  				var like_array = data.msg.like;
  				$('span.like_count').replaceWith('<span class="like_count">'+like_array.length+'</span>');
  			}
  		});

	});
/*
      $('button.CommentLike').click(function (){
        var comment_id = $(this).attr('id');
        var ajax_url = "/CommentLike/"+comment_id;
        console.log(ajax_url);
            
        $.ajax({
            url: ajax_url,
            type: "GET",
            dataType: "json",
            success: function(data) {
              var CommentLike_array = data.comment.like;
              console.log("quts : " + CommentLike_array);
              $('div.listcomment span.like_count').replaceWith('<span class="like_count">'+CommentLike_array.length+'</span>');
            }
          });

      });
*/
	//lol button ajax
	$('button.lol').click(function (){
		var msg_id = $(this).attr('id');
		var ajax_url = "/lol/"+msg_id;
		console.log(ajax_url);
        
		$.ajax({
  			url: ajax_url,
  			type: "GET",
  			dataType: "json",
  			success: function(data) {
  				var lol_array = data.msg.lol;
  				$('span.lol_count').replaceWith('<span class="lol_count">'+lol_array.length+'</span>');
  			}
  		});

	});

});

